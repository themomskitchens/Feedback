<!DOCTYPE html>
<html>
<head>
  <title>Meal Feedback Form</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #fffaf5;
      padding: 30px;
      max-width: 600px;
      margin: auto;
    }
    h2 { color: #e65c00; }
    label { font-weight: bold; display: block; margin-top: 15px; }
    input[type="text"], select, textarea {
      width: 100%; padding: 8px; margin-top: 5px; border: 1px solid #ccc; border-radius: 5px;
    }
    button {
      margin-top: 20px; background: #e65c00; color: white; padding: 10px 20px;
      border: none; border-radius: 5px; font-size: 16px; cursor: pointer;
    }
    img { max-width: 100px; display: block; margin: 0 auto 20px; }
  </style>
</head>
<body>

  <img src="Assets/Black logo.png" alt="Logo">
  <h2>üçΩÔ∏è Food Feedback Form</h2>

  <form id="feedbackForm">
    <!-- Auto-filled Name and Order ID -->
    <label>Full Name</label>
    <input type="text" name="name" id="name" readonly>

    <label>Order ID</label>
    <input type="text" name="orderId" id="orderId" readonly>

<!-- 1. Taste Rating -->
<label>1. How would you rate the taste of today‚Äôs food?</label>
<select name="tasteRating" required>
  <option value="">-- Select Rating --</option>
  <option value="‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Excellent">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Excellent</option>
  <option value="‚≠ê‚≠ê‚≠ê‚≠ê Very Good">‚≠ê‚≠ê‚≠ê‚≠ê Very Good</option>
  <option value="‚≠ê‚≠ê‚≠ê Good">‚≠ê‚≠ê‚≠ê Good</option>
  <option value="‚≠ê‚≠ê Average">‚≠ê‚≠ê Average</option>
  <option value="‚≠ê Poor">‚≠ê Poor</option>
</select>

<!-- 2. Menu Preference -->
<label>2. Would you like to receive our meal menus?</label>
<input type="radio" name="menuPreference" value="Daily updates" required>Daily updates<br>
<input type="radio" name="menuPreference" value="Weekly menus">Weekly menus<br>
<input type="radio" name="menuPreference" value="No">No<br>

<!-- 3. Office Meal Plan -->
<label>3. Would your office be interested in regular meal plans?</label>
<input type="radio" name="officePlan" value="Yes" required>Yes ‚Äì definitely<br>
<input type="radio" name="officePlan" value="Maybe">Maybe ‚Äì would like more info<br>
<input type="radio" name="officePlan" value="No">Not currently<br>

<!-- 4. Meal Preferences -->
<label>4. What kind of meals would your team prefer?</label>
<input type="checkbox" name="mealPreference" value="Breakfast Only">Breakfast Only<br>
<input type="checkbox" name="mealPreference" value="Lunch Only">Lunch Only<br>
<input type="checkbox" name="mealPreference" value="Both">Both Breakfast & Lunch<br>
<input type="checkbox" name="mealPreference" value="Healthy Options">Healthy / Low-Oil Options<br>
<input type="checkbox" name="mealPreference" value="Customised Plans">Customised Office Meal Plans<br>
<input type="checkbox" name="mealPreference" value="Bulk Orders">Occasional Bulk Orders<br>

<!-- 5. One Word Experience -->
<label>5. What one word best describes your experience?</label>
<input type="text" name="experienceWord" placeholder="e.g., Fresh, Tasty" required>

<!-- 6. Suggestions -->
<label>6. Any suggestions or special requests?</label>
<textarea name="suggestions" placeholder="We'd love to hear your ideas!"></textarea>

<button type="submit">Submit Feedback</button>
</form>

<script>
    // Autofill Name & Order ID from URL
    const urlParams = new URLSearchParams(window.location.search);
    document.getElementById("name").value = urlParams.get("name") || "";
    document.getElementById("orderId").value = urlParams.get("orderId") || "";

    document.getElementById("feedbackForm").addEventListener("submit", function(e) {
      e.preventDefault();

      const formData = new FormData(this);
      const data = {};
      formData.forEach((value, key) => {
        if (data[key]) {
          data[key] += `, ${value}`; // For checkboxes
        } else {
          data[key] = value;
        }
      });

      fetch("https://script.google.com/macros/s/AKfycbzD3D2Y5KLWz2sWMO2ywtphaUVDUj1GpV128V1aYUlnNHO311oKkLVmNE43BKkRByz6/exec", {
        method: "POST",
        body: JSON.stringify(data),
        headers: { "Content-Type": "application/json" }
      })
      .then(res => {
        if (res.ok) {
          alert("‚úÖ Thank you! Your feedback has been submitted.");
          document.getElementById("feedbackForm").reset();
        } else {
          alert("‚ùå Something went wrong. Please try again.");
        }
      });
    });
  </script>
</body>
</html>
